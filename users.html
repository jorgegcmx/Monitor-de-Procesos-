<!DOCTYPE html>
<html>
  <head>
    <title>My first Vue app</title>
    <meta charset="utf-8">
    <meta name="description" content="Miminium Admin Template v.1">
    <meta name="author" content="Isna Nur Azis">
    <meta name="keyword" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
   
  </head>
  <body data-spy="scroll" data-target="#navbar-example">
    <div id="main" class="container">
      <div class="row">
       
        <div class="col-sm-12">
          <h1></h1>
          <div class="table-responsive" align="center">      
                    <ul class="list-group" v-for="item in lists">
                        <li class="list-group-item"><img :src=item.foto_U class="img-thumbnail" height="200" width="200"></li>
                        <li class="list-group-item"><span class="badge">{{ item.usuario }}</span></li>
                        <li class="list-group-item"><h4><span class="badge badge-secondary">{{ item.clave1 }}</span></h4></li>
                        <li class="list-group-item"><button type="button" class="btn btn-primary">
                                Alumnos <span class="badge badge-light">{{ item.cantAlumnos }}</span>                               
                        </li>                            
                        <li class="list-group-item">
                            <div class="form-group">
                        <div v-if="hoy > item.clave" class="alert alert-danger" role="alert">
                         Cuenta Expirada
                         <div class="col-lg-offset-2 col-lg-10">
                            <form action="https://schoolgcmx.com/Login/delete.php" method="GET">
                            <input type="hidden" name="id" :value="item.ID">
                            <button type="submit" v-if="hoy > item.clave" class="btn btn-danger btn-block">Eliminar</button>
                            </form>
                           </div>
                          </div>
                        </div>
                        </li>
                        <li class="list-group-item">
                          <form class="form-horizontal" role="form" action="https://schoolgcmx.com/Login/login.php" method="POST">
                            <div class="form-group">
                              <div class="col-lg-10">
                                <input type="hidden" class="form-control" id="ejemplo_email_3"
                                name="username" :value=item.usuario>
                              </div>
                            </div>
                            <div class="form-group">
                              <div class="col-lg-10">
                                <input type="hidden" class="form-control" id="ejemplo_password_3"
                                name="password" :value=item.password>
                              </div>
                            </div>
                           
                            <div class="form-group">
                              <div class="col-lg-offset-2 col-lg-10">
                                <button type="submit"  class="btn btn-primary btn-block" name="sesion" >Entrar</button>
                              </div>
                            </div>
                    </form>
                        </li>
                                               
                    </ul>
                  </div>
        </div>
    </div><!--responsive div-->
    
        <!--div class="col-sm-8">
        <h1>JSON</h1>
        <pre>
          {{ $data | json }}
        </pre>
      </div-->
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/1.5.1/vue-resource.min.js"></script>
    <!--script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script-->
    <script type="text/javascript">
      var urlUsers = "https://schoolgcmx.com/Login/API_Users";
      var f= new Date();
      var dia=f.getDate();
      var mes=f.getMonth()+1;
      var annio=f.getFullYear();
      if (dia<10){
        var newday=('0'+dia);       
      }else{
        var newday=dia; 
      }
      if(mes<10){
        var month=('0'+mes);
      }else{
          var month=+mes;
      }     

        new Vue({
        el: "#main",
        created: function() {
          this.getUsers();
        },
        data: {
          lists: [],
          hoy:  annio+'-'+month+'-'+newday
        },
        methods: {
          getUsers: function() {
            this.$http.get(urlUsers).then(function(response) {
              this.lists = response.data.records;
            });
            /*axios.get(urlUsers).then(response=>{
            this.lists=response.data;
          });*/
          }
        }
      });
    </script>
  </body>
</html>

