<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:image" content="http://lipis.github.io/bootstrap-social/assets/img/bootstrap-social.png" />
    <title>schoolgcmx</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/social-buttons.css"/>
    <link href="css/font-awesome.css" rel="stylesheet">
    <link href="css/docs.css" rel="stylesheet" >
</head>

<body class="text-center">
        <nav  class="navbar navbar-dark bg-primary">
            <a class="navbar-brand" href="#">    
               
            </a>
        </nav>
    <div class="container" id="app">
    <div class="col-md-12">        
            <img src="https://scontent-qro1-1.xx.fbcdn.net/v/t1.0-9/59393724_1453099041497573_7600077215912427520_n.jpg?_nc_cat=101&_nc_ht=scontent-qro1-1.xx&oh=c97c4d6798a35dfbb241f44a08bf50d4&oe=5D6CB8C8"
                class="img-circle" />  
                            
            <h4>Inicia Sesión o Registrate</h4>
            <p>¿Que Tipo de Usuario Eres?</p>
            
            <div class="btn-group btn-group-justified" role="group" aria-label="...">
            <router-link  class="btn btn-primary" to="/admin">Administrador</router-link>
            <router-link   class="btn btn-primary" to="/prof">Profesor</router-link>
            <router-link  class="btn btn-primary" to="/Alum">Alumno</router-link>
            </div>
            
            <router-view></router-view>
    </div>
</div>
   

<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.7.2/firebase.js"></script>
<script>
    var config = {
        apiKey: "AIzaSyDc49aSK6xEQTmWUa1spegHeR9W2QuGc88",
        authDomain: "my-appreactjs.firebaseapp.com",
        databaseURL: "https://my-appreactjs.firebaseio.com",
        projectId: "my-appreactjs",
        storageBucket: "my-appreactjs.appspot.com",
        messagingSenderId: "900279894531"
    };
    firebase.initializeApp(config);
</script>
<script>

const admin ={
        template: `
             <div>             
                 
                 <br>
                   <a  class="btn btn-lg btn-social btn-google" v-on:click="SocialLogin()">
                   <img width="100%" height="100%" src="img/google.png">
                   <font color="white"> Ingresa con una cuenta de Google</font>
                  </a>                 
                
            </div> `,
        data: {
            user: null,
            email: null,
            uid: null,
            statusButton: ''
        },
        created() {
            firebase.auth().onAuthStateChanged(function (user) {
                if (user) {
                    this.user = user;
                    var nombre = this.user.email;
                    var password = this.user.uid;
                    var img = this.user.photoURL;
                    location.href = "../Login_google/login_google.php?nombre=" + nombre + "&password=" + password + "&img=" + img;
                } else {
                    this.user = null;
                }
            });

        },
        methods: {
            SocialLogin() {
                var provider = new firebase.auth.GoogleAuthProvider();
                firebase.auth()
                    .signInWithPopup(provider)
                    .then(function (result) {
                        this.user = result.user;
                        this.statusButton = 'visibility:visible;';
                        console.log(this.statusButton);
                      
                    }).catch(function (error) {
                        console.log(error);
                    });
            },
            logout() {
                firebase.auth().signOut().then(function () {
                    this.user = null;
                    return
                }).catch(function (error) {
                    // An error happened.
                });
            }
        }
    };

    const prof = {
        template: ` <div>
                    <img  src="img/profesor.png" width="80" height="80" class="img-rounded" alt="Cinque Terre"></img>
                    <br>
                    <form class="form-signin" >
                    <label for="inputEmail" class="sr-only">Email</label>
                    <input name="usuario" type="email"  class="form-control" placeholder="Email" required="" autofocus="">
                    <label  for="inputPassword" class="sr-only">Password</label>
                    <input name="password" type="password"  class="form-control" placeholder="Password" required="">
                    <div class="checkbox mb-3">
                    <label>
                        <a type="checkbox" href=""> ¿Olvidaste tu Contraseña? </a>
                    </label>
                    </div>
                    <button name="app" class="btn btn-lg btn-primary btn-block" type="submit">Iniciar</button>
                    <p class="mt-5 mb-3 text-muted">© SchoolGCMX-2019</p>
                    </form></div> ` }

    const Alum = {
        template: ` <div>
                <img  src="img/alumno.png" width="80" height="80" class="img-rounded" alt="Cinque Terre"></img>
                    <br>
                    <form class="form-signin" >
                    <label for="inputEmail" class="sr-only">Matricula</label>
                    <input name="usuario" type="text"  class="form-control" placeholder="Matricula" required="" autofocus="">
                    <label for="inputPassword" class="sr-only">Password</label>
                    <input name="password" type="password"  class="form-control" placeholder="Password" required="">
                    <div class="checkbox mb-3">
                    <label>
                        <a type="checkbox" href=""> ¿Olvidaste tu Contraseña? </a>
                    </label>
                    </div>
                    <button name="app" class="btn btn-lg btn-primary btn-block" type="submit">Iniciar</button>
                    <p class="mt-5 mb-3 text-muted">© SchoolGCMX-2019</p>
                    </form></div> ` }


    const routes = [
           {
                path: '/admin',
                component: admin
            },
            {
                path: '/prof',
                component: prof
            },
            {
                path: '/alum',
                component: Alum
            }
        ]


    const router = new VueRouter({
        routes
    })


    const app = new Vue({
        router
    }).$mount('#app')

   

</script>
  
</body>

</html>


